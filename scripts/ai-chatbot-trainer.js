/**
 * ðŸ§  M-CENTER AI ì±—ë´‡ í›ˆë ¨ ë° í•™ìŠµ ë°ì´í„° ì—…ë°ì´íŠ¸
 * OpenAI Fine-tuningê³¼ RAG(Retrieval-Augmented Generation) ì‹œìŠ¤í…œ
 */

const OpenAI = require('openai');
const fs = require('fs').promises;
const path = require('path');

// OpenAI í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
});

// ðŸ“š M-CENTER ì „ë¬¸ ì§€ì‹ ë² ì´ìŠ¤
const MCENTER_KNOWLEDGE_BASE = {
  services: {
    'business-analysis': {
      name: 'BM ZEN ì‚¬ì—…ë¶„ì„',
      fullDescription: `êµ­ë‚´ ìœ ì¼ì˜ ë…ìžì  ë¹„ì¦ˆë‹ˆìŠ¤ëª¨ë¸ ë¶„ì„ í”„ë ˆìž„ì›Œí¬ë¡œ, 25ë…„ê°„ì˜ ì»¨ì„¤íŒ… ë…¸í•˜ìš°ë¥¼ ì§‘ì•½í•œ M-CENTERë§Œì˜ ì°¨ë³„í™”ëœ ì„œë¹„ìŠ¤ìž…ë‹ˆë‹¤.
      
      í•µì‹¬ íŠ¹ì§•:
      - Business Model Canvasì˜ 9ê°œ í•µì‹¬ìš”ì†Œë¥¼ M-CENTER ë°©ì‹ìœ¼ë¡œ ê³ ë„í™”
      - ìˆ˜ìµëª¨ë¸ ë‹¤ê°í™” ë° ìµœì í™” ì „ëžµ ìˆ˜ë¦½
      - ì‹œìž¥ë¶„ì„ ê¸°ë°˜ì˜ ë°ì´í„° ì¤‘ì‹¬ ì ‘ê·¼
      - ë‹¨ê³„ë³„ ì‹¤í–‰ê³„íš ë° ì„±ê³¼ ì¸¡ì • ì‹œìŠ¤í…œ
      
      ê²€ì¦ëœ ì„±ê³¼:
      - í‰ê·  ë§¤ì¶œ ì¦ëŒ€ìœ¨: 35% (20-60% ë²”ìœ„)
      - ìˆ˜ìµì„± ê°œì„ : í‰ê·  28%
      - ê³ ê°ë§Œì¡±ë„: 96%
      - ì‚¬ì—… ì§€ì†ê°€ëŠ¥ì„±: 85% ì´ìƒ`,
      
      keywords: ['ì‚¬ì—…ë¶„ì„', 'ë¹„ì¦ˆë‹ˆìŠ¤ëª¨ë¸', 'BM', 'ìˆ˜ìµêµ¬ì¡°', 'ë§¤ì¶œì¦ëŒ€', 'ê²½ì˜ì§„ë‹¨'],
      
      caseStudies: [
        'ì œì¡°ì—… Aì‚¬: BM ZEN ì ìš© í›„ ë§¤ì¶œ 45% ì¦ê°€, ìˆ˜ìµë¥  35% ê°œì„ ',
        'IT ì„œë¹„ìŠ¤ Bì‚¬: ì‹ ê·œ ìˆ˜ìµëª¨ë¸ ê°œë°œë¡œ ì—°ë§¤ì¶œ 25ì–µ ë‹¬ì„±',
        'ìœ í†µì—… Cì‚¬: ì˜¨ì˜¤í”„ë¼ì¸ í†µí•© BMìœ¼ë¡œ ì‹œìž¥ì ìœ ìœ¨ 3ë°° í™•ëŒ€'
      ],
      
      process: [
        'í˜„ìž¬ ë¹„ì¦ˆë‹ˆìŠ¤ëª¨ë¸ ì§„ë‹¨ ë° ë¶„ì„',
        'ì‹œìž¥í™˜ê²½ ë° ê²½ìŸì‚¬ ë²¤ì¹˜ë§ˆí‚¹',
        'ìˆ˜ìµëª¨ë¸ ìž¬ì„¤ê³„ ë° ìµœì í™”',
        'ì‹¤í–‰ê³„íš ìˆ˜ë¦½ ë° ë‹¨ê³„ë³„ ë¡œë“œë§µ',
        'ì„±ê³¼ ëª¨ë‹ˆí„°ë§ ë° ì§€ì† ê°œì„ '
      ]
    },
    
    'ai-productivity': {
      name: 'AI í™œìš© ìƒì‚°ì„±í–¥ìƒ',
      fullDescription: `ChatGPT, Claude, Midjourney ë“± ìµœì‹  AI ë„êµ¬ë¥¼ í™œìš©í•œ ì—…ë¬´ ìžë™í™” ë° ìƒì‚°ì„± í–¥ìƒ ì†”ë£¨ì…˜ìž…ë‹ˆë‹¤. 
      êµ­ë‚´ TOP 3 ìˆ˜ì¤€ì˜ AI ì „ë¬¸ì„±ìœ¼ë¡œ ê¸°ì—…ì˜ ë””ì§€í„¸ ì „í™˜ì„ ì„ ë„í•©ë‹ˆë‹¤.
      
      í•µì‹¬ ì„œë¹„ìŠ¤:
      - ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ AI ìžë™í™” ì„¤ê³„
      - ì§ì› ëŒ€ìƒ AI í™œìš© êµìœ¡ ë° ì½”ì¹­
      - AI ë„êµ¬ ë„ìž… ì „ëžµ ìˆ˜ë¦½
      - ROI ì¸¡ì • ë° ì„±ê³¼ ë¶„ì„
      
      ì „ë¬¸ ë¶„ì•¼:
      - ë¬¸ì„œ ìž‘ì—… ìžë™í™” (ë³´ê³ ì„œ, ì œì•ˆì„œ, ê³„ì•½ì„œ)
      - ê³ ê° ì‘ëŒ€ ìžë™í™” (ì±—ë´‡, ì´ë©”ì¼ ì‘ë‹µ)
      - ë°ì´í„° ë¶„ì„ ìžë™í™” (ì‹œìž¥ë¶„ì„, ë§¤ì¶œì˜ˆì¸¡)
      - ì½˜í…ì¸  ì œìž‘ ìžë™í™” (ë§ˆì¼€íŒ…, SNS)`,
      
      keywords: ['AI', 'ì¸ê³µì§€ëŠ¥', 'ìƒì‚°ì„±', 'ìžë™í™”', 'ChatGPT', 'ì—…ë¬´íš¨ìœ¨', 'ë””ì§€í„¸ì „í™˜'],
      
      caseStudies: [
        'ê¸ˆìœµì—… Dì‚¬: AI ë„ìž…ìœ¼ë¡œ ë¬¸ì„œìž‘ì—… 60% ë‹¨ì¶•, ì—°ê°„ 2ì–µì› ì¸ê±´ë¹„ ì ˆê°',
        'ì œì¡°ì—… Eì‚¬: ê³ ê°ì‘ëŒ€ ìžë™í™”ë¡œ CS íš¨ìœ¨ 45% í–¥ìƒ',
        'ì„œë¹„ìŠ¤ì—… Fì‚¬: AI ë§ˆì¼€íŒ…ìœ¼ë¡œ ì˜¨ë¼ì¸ ë§¤ì¶œ 250% ì¦ê°€'
      ],
      
      benefits: [
        'ì—…ë¬´ íš¨ìœ¨ 40-60% í–¥ìƒ',
        'ì¸ê±´ë¹„ 20-30% ì ˆê°',
        'ì˜ì‚¬ê²°ì • ì†ë„ 3ë°° í–¥ìƒ',
        'ë¬¸ì„œìž‘ì—… ì‹œê°„ 70% ë‹¨ì¶•'
      ]
    },
    
    'factory-auction': {
      name: 'ê²½ë§¤í™œìš© ê³µìž¥êµ¬ë§¤',
      fullDescription: `25ë…„ê°„ì˜ ë¶€ë™ì‚° ê²½ë§¤ ì „ë¬¸ ë…¸í•˜ìš°ë¡œ ê¸°ì—…ì˜ ê³µìž¥ ë° ì‚¬ì—…ìž¥ í™•ë³´ ë¹„ìš©ì„ íšê¸°ì ìœ¼ë¡œ ì ˆê°í•˜ëŠ” ì„œë¹„ìŠ¤ìž…ë‹ˆë‹¤.
      ì „êµ­ ê²½ë§¤ ì •ë³´ ë„¤íŠ¸ì›Œí¬ì™€ ë²•ë¬´íŒ€ ì—°ê³„ë¡œ ì•ˆì „í•˜ê³  ìˆ˜ìµì„± ë†’ì€ íˆ¬ìžë¥¼ ë³´ìž¥í•©ë‹ˆë‹¤.
      
      ì „ë¬¸ ì„œë¹„ìŠ¤:
      - ì „êµ­ ìš°ëŸ‰ ê²½ë§¤ë¬¼ê±´ ë°œêµ´ ë° ì„ ë³„
      - ì •í™•í•œ ì‹œì„¸ ë¶„ì„ ë° íˆ¬ìžê°€ì¹˜ í‰ê°€
      - ê¶Œë¦¬ë¶„ì„ ë° ëª…ë„ ê°€ëŠ¥ì„± ì‚¬ì „ ê²€ì¦
      - ë‚™ì°° ì „ëžµ ìˆ˜ë¦½ ë° ìž…ì°° ì§€ì›
      - ì‚¬í›„ ê´€ë¦¬ (ëª…ë„, ë“±ê¸°, ì‹œì„¤ê°œì„ )
      
      ì°¨ë³„í™” ìš°ìˆ˜ì„±:
      - 25ë…„ ì „ë¬¸ ê²½í—˜, 200ì—¬ ê±´ ì„±ê³µ ì‹¤ì 
      - ì „êµ­ ê²½ë§¤ ì •ë³´ ë…ì  ë„¤íŠ¸ì›Œí¬
      - ë²•ë¬´íŒ€ ì—°ê³„ ì™„ë²½í•œ ë¦¬ìŠ¤í¬ ê´€ë¦¬
      - í‰ê·  30-50% ì‹œì„¸ ëŒ€ë¹„ ì ˆê° íš¨ê³¼`,
      
      keywords: ['ê²½ë§¤', 'ê³µìž¥êµ¬ë§¤', 'ë¶€ë™ì‚°', 'íˆ¬ìž', 'ê³ ì •ë¹„ì ˆê°', 'ì‚¬ì—…ìž¥'],
      
      successStories: [
        'ì œì¡°ì—… Gì‚¬: 15ì–µ ê³µìž¥ì„ 9ì–µì— ë‚™ì°°, 6ì–µì›(40%) ì ˆì•½',
        'ë¬¼ë¥˜ì—… Hì‚¬: ìµœì  ìž…ì§€ ì°½ê³  30% í• ì¸ ë§¤ìž…ìœ¼ë¡œ ì—°ê°„ ìž„ëŒ€ë£Œ 3ì–µ ì ˆê°',
        'ì‹í’ˆì—… Iì‚¬: ê²½ë§¤ í†µí•œ ìƒì‚°ì‹œì„¤ í™•ìž¥ìœ¼ë¡œ íˆ¬ìžë¹„ìš© 50% ì ˆê°'
      ]
    },
    
    'tech-startup': {
      name: 'ê¸°ìˆ ì‚¬ì—…í™”/ì°½ì—…',
      fullDescription: `ê¸°ìˆ  ê¸°ë°˜ ì°½ì—… ë° ì‚¬ì—…í™” ì „ ê³¼ì •ì„ ì§€ì›í•˜ëŠ” ì¢…í•© ì„œë¹„ìŠ¤ìž…ë‹ˆë‹¤. 
      ì •ë¶€ R&D ê³¼ì œ ì„ ì •ë¥  78% (ì „êµ­ í‰ê·  25% ëŒ€ë¹„ 3ë°°)ì˜ ê²€ì¦ëœ ì „ë¬¸ì„±ìœ¼ë¡œ í™•ì‹¤í•œ ì„±ê³¼ë¥¼ ë³´ìž¥í•©ë‹ˆë‹¤.
      
      í•µì‹¬ ì„œë¹„ìŠ¤:
      - ì •ë¶€ R&D ê³¼ì œ ê¸°íš ë° ì„ ì • ì§€ì›
      - ê¸°ìˆ ê°€ì¹˜í‰ê°€ ë° IP ì „ëžµ ìˆ˜ë¦½
      - ì‚¬ì—…ê³„íšì„œ ìž‘ì„± ë° íˆ¬ìžìœ ì¹˜ ì§€ì›
      - ì‚¬ì—…í™” ì „ëžµ ìˆ˜ë¦½ ë° ì‹¤í–‰ ì§€ì›
      
      ì •ë¶€ì§€ì› ì „ë¬¸ ë¶„ì•¼:
      - ì¤‘ì†Œë²¤ì²˜24 (ê¸°ìˆ ê°œë°œ 3-10ì–µ, ì‚¬ì—…í™” 5-20ì–µ)
      - ì‚°ì—…ë¶€ ì‚¬ì—… (R&D 5-50ì–µ, ì‹¤ì¦ 10-100ì–µ)
      - ê³¼ê¸°ë¶€ ì‚¬ì—… (ì°½ì—… 1-5ì–µ, ê¸°ìˆ ì´ì „ 3-15ì–µ)
      - ì§€ìžì²´ íŠ¹í™”ì‚¬ì—… (1-10ì–µ, ê¸€ë¡œë²Œì§„ì¶œ 5-30ì–µ)`,
      
      keywords: ['ê¸°ìˆ ì‚¬ì—…í™”', 'ì°½ì—…', 'ì •ë¶€ì§€ì›', 'R&D', 'íˆ¬ìžìœ ì¹˜', 'ì •ë¶€ê³¼ì œ'],
      
      achievements: [
        'í‰ê·  ì •ë¶€ì§€ì›ê¸ˆ í™•ë³´: 5ì–µì› ì´ìƒ',
        'ê³¼ì œ ì„ ì •ë¥ : 78% (ì—…ê³„í‰ê·  25%)',
        'ì‚¬ì—…í™” ì„±ê³µë¥ : 85%',
        'ëˆ„ì  ì§€ì›ê¸ˆ í™•ë³´: 500ì–µì› ì´ìƒ'
      ]
    },
    
    'certification': {
      name: 'ì¸ì¦ì§€ì›',
      fullDescription: `ISO, ë²¤ì²˜ì¸ì¦, ì´ë…¸ë¹„ì¦ˆ ë“± ê°ì¢… ê¸°ì—… ì¸ì¦ ì·¨ë“ì„ í†µí•´ ì„¸ì œí˜œíƒê³¼ ê²½ìŸë ¥ì„ ë™ì‹œì— í™•ë³´í•˜ëŠ” ì„œë¹„ìŠ¤ìž…ë‹ˆë‹¤.
      ì·¨ë“ë¥  92% (ì—…ê³„ ìµœê³ )ì˜ ê²€ì¦ëœ ë…¸í•˜ìš°ë¡œ í™•ì‹¤í•œ ì¸ì¦ì„ ë³´ìž¥í•©ë‹ˆë‹¤.
      
      ì „ë¬¸ ì¸ì¦ ë¶„ì•¼:
      - í’ˆì§ˆê²½ì˜ì‹œìŠ¤í…œ (ISO 9001, ISO 14001, ISO 45001)
      - ì •ë³´ë³´ì•ˆ (ISO 27001, ISMS-P, ê°œì¸ì •ë³´ë³´í˜¸)
      - ê¸°ì—… ì¸ì¦ (ë²¤ì²˜ê¸°ì—…, ì´ë…¸ë¹„ì¦ˆ, ë©”ì¸ë¹„ì¦ˆ)
      - ì—…ì¢…ë³„ íŠ¹í™” ì¸ì¦ (ISO 13485, HACCP ë“±)
      
      ì¸ì¦ ì·¨ë“ í˜œíƒ:
      - ì„¸ì œ í˜œíƒ: ë²•ì¸ì„¸/ì†Œë“ì„¸ ê°ë©´ (ì—°ê°„ ìµœëŒ€ 5ì²œë§Œì›)
      - ê¸ˆìœµ í˜œíƒ: ëŒ€ì¶œ ê¸ˆë¦¬ ìš°ëŒ€, ë³´ì¦ë£Œ í• ì¸
      - ìž…ì°° ê°€ì : ê³µê³µìž…ì°° ì‹œ ê°€ì  íšë“
      - ë¸Œëžœë“œ ê°€ì¹˜: ê³ ê° ì‹ ë¢°ë„ ë° ì‹œìž¥ê²½ìŸë ¥ í–¥ìƒ`,
      
      keywords: ['ì¸ì¦', 'ISO', 'ë²¤ì²˜ê¸°ì—…', 'ì´ë…¸ë¹„ì¦ˆ', 'ì„¸ì œí˜œíƒ', 'í’ˆì§ˆì¸ì¦'],
      
      certificationBenefits: [
        'ì—°ê°„ ì„¸ì œí˜œíƒ 3ì²œë§Œì›~5ì²œë§Œì›',
        'ëŒ€ì¶œ ê¸ˆë¦¬ 0.5%~1% ìš°ëŒ€',
        'ê³µê³µìž…ì°° 5~10ì  ê°€ì ',
        'ë¸Œëžœë“œ ì‹ ë¢°ë„ 300% í–¥ìƒ'
      ]
    },
    
    'website': {
      name: 'ì›¹ì‚¬ì´íŠ¸ êµ¬ì¶•',
      fullDescription: `SEO ìµœì í™”ì™€ ì˜¨ë¼ì¸ ë§ˆì¼€íŒ…ì„ í†µí•©í•œ ë§¤ì¶œ ì¦ëŒ€í˜• ì›¹ì‚¬ì´íŠ¸ êµ¬ì¶• ì„œë¹„ìŠ¤ìž…ë‹ˆë‹¤.
      êµ¬ê¸€ ê²€ìƒ‰ ìƒìœ„ë…¸ì¶œ ë³´ìž¥ê³¼ ì˜¨ë¼ì¸ ë¬¸ì˜ 300-500% ì¦ê°€ì˜ ê²€ì¦ëœ ì„±ê³¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
      
      í•µì‹¬ ì„œë¹„ìŠ¤:
      - SEO ìµœì í™” ì›¹ì‚¬ì´íŠ¸ ì„¤ê³„ ë° êµ¬ì¶•
      - ë°˜ì‘í˜• ë””ìžì¸ ë° ëª¨ë°”ì¼ ìµœì í™”
      - ì½˜í…ì¸  ë§ˆì¼€íŒ… ì „ëžµ ìˆ˜ë¦½
      - ì˜¨ë¼ì¸ ê´‘ê³  í†µí•© ê´€ë¦¬ (êµ¬ê¸€, ë„¤ì´ë²„)
      
      ì°¨ë³„í™” ìš°ìˆ˜ì„±:
      - SEO ì „ë¬¸íŒ€ì˜ ê²€ìƒ‰ì—”ì§„ ìƒìœ„ë…¸ì¶œ ë³´ìž¥
      - ì „í™˜ìœ¨(CVR) ìµœì í™” ì „ë¬¸ì„±
      - ì—…ì¢…ë³„ íŠ¹í™” ë””ìžì¸ í…œí”Œë¦¿
      - ë§ˆì¼€íŒ… ìžë™í™” ì‹œìŠ¤í…œ êµ¬ì¶•`,
      
      keywords: ['ì›¹ì‚¬ì´íŠ¸', 'í™ˆíŽ˜ì´ì§€', 'SEO', 'ì˜¨ë¼ì¸ë§ˆì¼€íŒ…', 'ê²€ìƒ‰ìƒìœ„ë…¸ì¶œ'],
      
      results: [
        'ì˜¨ë¼ì¸ ë¬¸ì˜ 300-500% ì¦ê°€',
        'ë§¤ì¶œ ì§ì ‘ ì—°ê²°ìœ¨ 85%',
        'êµ¬ê¸€ ê²€ìƒ‰ ìƒìœ„ 3íŽ˜ì´ì§€ ì§„ìž… ë³´ìž¥',
        'ëª¨ë°”ì¼ ìµœì í™” ì™„ë²½ êµ¬í˜„'
      ]
    }
  },
  
  // ðŸŽ¯ ìžì£¼ ë¬»ëŠ” ì§ˆë¬¸ê³¼ ì „ë¬¸ ë‹µë³€
  faq: [
    {
      category: 'general',
      question: 'M-CENTERëŠ” ì–´ë–¤ íšŒì‚¬ì¸ê°€ìš”?',
      answer: `M-CENTER(ê¸°ì—…ì˜ë³„ ê²½ì˜ì§€ë„ì„¼í„°)ëŠ” 25ë…„ê°„ ê²€ì¦ëœ ë…¸í•˜ìš°ë¥¼ ë³´ìœ í•œ ëŒ€í•œë¯¼êµ­ ìµœê³  ìˆ˜ì¤€ì˜ ê²½ì˜ì»¨ì„¤íŒ… ì „ë¬¸ê¸°ê´€ìž…ë‹ˆë‹¤.

ðŸ† í•µì‹¬ ì°¨ë³„í™” ìš°ìˆ˜ì„±:
â€¢ 25ë…„ ê²½í—˜ì˜ ì´í›„ê²½ ê²½ì˜ì§€ë„ì‚¬ ì§ì ‘ ì»¨ì„¤íŒ…
â€¢ 95% ì´ìƒì˜ ë†’ì€ ì„±ê³µë¥ ê³¼ ê³ ê°ë§Œì¡±ë„
â€¢ ì •ë¶€ì§€ì›ì‚¬ì—… ì „ë¬¸ê¸°ê´€ (ì„ ì •ë¥  78%)
â€¢ 6ê°€ì§€ í•µì‹¬ ì„œë¹„ìŠ¤ì˜ í†µí•© ì†”ë£¨ì…˜ ì œê³µ

ðŸŽ¯ ê²€ì¦ëœ ì„±ê³¼:
â€¢ 1,000ì—¬ ê¸°ì—… ì„±ê³µ ì§€ì›
â€¢ ëˆ„ì  ì •ë¶€ì§€ì›ê¸ˆ í™•ë³´ 500ì–µì›
â€¢ í‰ê·  ë§¤ì¶œ ì¦ëŒ€ 35%
â€¢ ê³ ê° ìž¬ì˜ë¢°ìœ¨ 85%`
    },
    {
      category: 'service',
      question: 'ì–´ë–¤ ì„œë¹„ìŠ¤ê°€ ìš°ë¦¬ íšŒì‚¬ì— ê°€ìž¥ ì í•©í• ê¹Œìš”?',
      answer: `ê¸°ì—…ì˜ í˜„ìž¬ ìƒí™©ê³¼ ëª©í‘œì— ë”°ë¼ ìµœì ì˜ ì„œë¹„ìŠ¤ ì¡°í•©ì„ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤:

ðŸ“Š ìƒí™©ë³„ ì¶”ì²œ ì„œë¹„ìŠ¤:
â€¢ ë§¤ì¶œ/ìˆ˜ìµ ê°œì„ ì´ í•„ìš” â†’ BM ZEN ì‚¬ì—…ë¶„ì„
â€¢ ì—…ë¬´ íš¨ìœ¨ì„± í–¥ìƒ í•„ìš” â†’ AI ìƒì‚°ì„±í–¥ìƒ
â€¢ ê³ ì •ë¹„(ìž„ëŒ€ë£Œ) ë¶€ë‹´ â†’ ê²½ë§¤í™œìš© ê³µìž¥êµ¬ë§¤
â€¢ ê¸°ìˆ ë³´ìœ , ìžê¸ˆ í•„ìš” â†’ ê¸°ìˆ ì‚¬ì—…í™”/ì°½ì—…
â€¢ ì„¸ê¸ˆ ë¶€ë‹´ ì™„í™” â†’ ì¸ì¦ì§€ì›
â€¢ ì˜¨ë¼ì¸ ë§¤ì¶œ í™•ëŒ€ â†’ ì›¹ì‚¬ì´íŠ¸ êµ¬ì¶•

ðŸ†“ ì •í™•í•œ ì§„ë‹¨ì„ ìœ„í•œ ë¬´ë£Œ ìƒë‹´ì„ ì œê³µí•©ë‹ˆë‹¤. 
ì „í™”(010-9251-9743) ë˜ëŠ” í˜„ìž¥ ë°©ë¬¸ì„ í†µí•´ ë§žì¶¤í˜• ì†”ë£¨ì…˜ì„ ì œì•ˆí•´ë“œë¦½ë‹ˆë‹¤.`
    },
    {
      category: 'cost',
      question: 'ë¹„ìš©ì€ ì–´ëŠ ì •ë„ ë“œë‚˜ìš”?',
      answer: `ì„œë¹„ìŠ¤ë³„ë¡œ ë‹¤ë¥´ì§€ë§Œ, íˆ¬ìž ëŒ€ë¹„ í™•ì‹¤í•œ ROIë¥¼ ë³´ìž¥í•˜ëŠ” í•©ë¦¬ì  ê°€ê²© ì •ì±…ì„ ìš´ì˜í•©ë‹ˆë‹¤:

ðŸ’° íˆ¬ìž ëŒ€ë¹„ íš¨ê³¼:
â€¢ BM ZEN ì‚¬ì—…ë¶„ì„: íˆ¬ìžê¸ˆ ëŒ€ë¹„ 300-800% ROI
â€¢ AI ìƒì‚°ì„±í–¥ìƒ: 3-6ê°œì›” ë‚´ íˆ¬ìžë¹„ íšŒìˆ˜
â€¢ ê²½ë§¤ ê³µìž¥êµ¬ë§¤: 30-50% ë¶€ë™ì‚°ë¹„ìš© ì ˆê°
â€¢ ì •ë¶€ì§€ì› í™•ë³´: í‰ê·  5ì–µì› ì´ìƒ ì§€ì›ê¸ˆ
â€¢ ì¸ì¦ì§€ì›: ì—°ê°„ 3-5ì²œë§Œì› ì„¸ì œí˜œíƒ
â€¢ ì›¹ì‚¬ì´íŠ¸: ì˜¨ë¼ì¸ ë§¤ì¶œ 3-5ë°° ì¦ê°€

ðŸ†“ ì²« ìƒë‹´ ë° í˜„í™© ì§„ë‹¨ì€ ì™„ì „ ë¬´ë£Œìž…ë‹ˆë‹¤.
êµ¬ì²´ì ì¸ íˆ¬ìž ê³„íšì€ ë¬´ë£Œ ìƒë‹´ì„ í†µí•´ ë§žì¶¤í˜•ìœ¼ë¡œ ì œì•ˆí•´ë“œë¦½ë‹ˆë‹¤.`
    }
  ],
  
  // ðŸŽ¨ ìƒë‹´ ì‹œë‚˜ë¦¬ì˜¤ë³„ ëŒ€ì‘ ì „ëžµ
  consultationScenarios: {
    inquiry: 'ì²« ë¬¸ì˜ ê³ ê°ì—ê²ŒëŠ” M-CENTERì˜ ì°¨ë³„í™”ëœ ìš°ìˆ˜ì„±ì„ ê°•ì¡°í•˜ë©° ì‹ ë¢°ê°ì„ ì¡°ì„±',
    comparison: 'íƒ€ ì—…ì²´ì™€ ë¹„êµ ì‹œ 25ë…„ ê²½í—˜ê³¼ 95% ì„±ê³µë¥  ë“± ê²€ì¦ëœ ì‹¤ì ì„ ê°•ì¡°',
    budget: 'ì˜ˆì‚° ë¬¸ì˜ ì‹œ ROIì™€ íˆ¬ìž íšŒìˆ˜ ê¸°ê°„ì„ êµ¬ì²´ì ìœ¼ë¡œ ì œì‹œ',
    skeptical: 'ì˜êµ¬ì‹¬ í‘œí˜„ ì‹œ ì‹¤ì œ ì„±ê³µ ì‚¬ë¡€ì™€ ê³ ê° ì¶”ì²œì„œë¥¼ í™œìš©',
    urgent: 'ê¸´ê¸‰ ìƒí™© ì‹œ ì¦‰ì‹œ ëŒ€ì‘ ê°€ëŠ¥í•œ ì „ë¬¸ê°€ ì§ì ‘ ì—°ê²° ì„œë¹„ìŠ¤ ê°•ì¡°'
  }
};

/**
 * ðŸ”§ ì±—ë´‡ í•™ìŠµ ë°ì´í„° ìƒì„±
 */
async function generateTrainingData() {
  console.log('ðŸ§  AI ì±—ë´‡ í•™ìŠµ ë°ì´í„° ìƒì„± ì¤‘...');
  
  const trainingPrompts = [
    // ì„œë¹„ìŠ¤ë³„ ì „ë¬¸ ì§ˆë¬¸-ë‹µë³€ ìƒì„±
    `M-CENTERì˜ BM ZEN ì‚¬ì—…ë¶„ì„ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ë‹¤ì–‘í•œ ê³ ê° ì§ˆë¬¸ê³¼ ì „ë¬¸ê°€ ìˆ˜ì¤€ì˜ ë‹µë³€ 10ê°œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”. 
    ì‹¤ì œ ê³ ê°ì´ ë¬¼ì–´ë³¼ ë§Œí•œ êµ¬ì²´ì ì´ê³  ì‹¤ë¬´ì ì¸ ì§ˆë¬¸ë“¤ë¡œ êµ¬ì„±í•´ì£¼ì„¸ìš”.`,
    
    `AI ìƒì‚°ì„±í–¥ìƒ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ê¸°ìˆ ì  ì§ˆë¬¸ë¶€í„° ë¹„ìš© ë¬¸ì˜ê¹Œì§€ ë‹¤ì–‘í•œ ìˆ˜ì¤€ì˜ ì§ˆë¬¸-ë‹µë³€ 10ê°œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.
    ChatGPT, AI ë„êµ¬ í™œìš©ì— ëŒ€í•œ ì „ë¬¸ì ì¸ ë‚´ìš©ì„ í¬í•¨í•´ì£¼ì„¸ìš”.`,
    
    `ê²½ë§¤í™œìš© ê³µìž¥êµ¬ë§¤ ì„œë¹„ìŠ¤ì— ëŒ€í•œ íˆ¬ìž, ë¦¬ìŠ¤í¬, ì ˆì°¨ ê´€ë ¨ ì§ˆë¬¸-ë‹µë³€ 10ê°œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.
    25ë…„ ì „ë¬¸ ë…¸í•˜ìš°ì™€ ì•ˆì „ì„±ì„ ê°•ì¡°í•œ ë‹µë³€ìœ¼ë¡œ êµ¬ì„±í•´ì£¼ì„¸ìš”.`,
    
    // ìƒí™©ë³„ ëŒ€í™” ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±
    `ì¤‘ì†Œê¸°ì—… CEOê°€ ì²˜ìŒ M-CENTERì— ë¬¸ì˜í•˜ëŠ” ìƒí™©ì˜ ëŒ€í™” ì‹œë‚˜ë¦¬ì˜¤ 5ê°œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.
    ì‹ ë¢°ê° ì¡°ì„±ë¶€í„° ì„œë¹„ìŠ¤ ì¶”ì²œê¹Œì§€ ìžì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” íë¦„ìœ¼ë¡œ êµ¬ì„±í•´ì£¼ì„¸ìš”.`,
    
    `ê¸°ì¡´ ê³ ê°ì´ ì¶”ê°€ ì„œë¹„ìŠ¤ë¥¼ ë¬¸ì˜í•˜ëŠ” ìƒí™©ì˜ ëŒ€í™” 5ê°œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.
    ê¸°ì¡´ ì„±ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ Up-selling ìƒí™©ì„ í¬í•¨í•´ì£¼ì„¸ìš”.`
  ];

  const trainingData = [];
  
  for (const prompt of trainingPrompts) {
    try {
      const completion = await openai.chat.completions.create({
        model: 'gpt-4o-mini',
        messages: [
          {
            role: 'system',
            content: `ë‹¹ì‹ ì€ M-CENTERì˜ AI ì±—ë´‡ í•™ìŠµ ë°ì´í„°ë¥¼ ìƒì„±í•˜ëŠ” ì „ë¬¸ê°€ìž…ë‹ˆë‹¤. 
            25ë…„ ê²½í—˜ì˜ ê²½ì˜ì§€ë„ì‚¬ ìˆ˜ì¤€ì˜ ì „ë¬¸ì„±ìœ¼ë¡œ ê³ í’ˆì§ˆì˜ ì§ˆë¬¸-ë‹µë³€ ìŒì„ ìƒì„±í•´ì£¼ì„¸ìš”.
            
            ë‹µë³€ ìž‘ì„± ì‹œ ë°˜ë“œì‹œ í¬í•¨í•  ìš”ì†Œ:
            1. M-CENTERì˜ ì°¨ë³„í™”ëœ ìš°ìˆ˜ì„± ê°•ì¡°
            2. êµ¬ì²´ì ì¸ ì„±ê³¼ ìˆ˜ì¹˜ì™€ ì‹¤ì 
            3. ê³ ê°ì˜ ì¦‰ì‹œ í–‰ë™ì„ ìœ ë„í•˜ëŠ” CTA
            4. ì „ë¬¸ê°€ ì§ì ‘ ì—°ê²° ì •ë³´ (010-9251-9743)`
          },
          { role: 'user', content: prompt }
        ],
        max_tokens: 2000,
        temperature: 0.8
      });
      
      trainingData.push({
        prompt: prompt,
        response: completion.choices[0].message.content,
        timestamp: new Date().toISOString()
      });
      
      // API í˜¸ì¶œ ê°„ê²© ì¡°ì ˆ
      await new Promise(resolve => setTimeout(resolve, 1000));
      
    } catch (error) {
      console.error('í•™ìŠµ ë°ì´í„° ìƒì„± ì‹¤íŒ¨:', error);
    }
  }
  
  return trainingData;
}

/**
 * ðŸ“ í•™ìŠµ ë°ì´í„°ë¥¼ JSONL í˜•ì‹ìœ¼ë¡œ ë³€í™˜
 */
function convertToJSONL(trainingData) {
  const jsonlData = trainingData.map(item => {
    return JSON.stringify({
      messages: [
        { role: "system", content: "ë‹¹ì‹ ì€ M-CENTERì˜ ì „ë¬¸ AI ìƒë‹´ì‚¬ìž…ë‹ˆë‹¤. 25ë…„ ê²½í—˜ì˜ ê²½ì˜ì§€ë„ì‚¬ ìˆ˜ì¤€ì˜ ì „ë¬¸ì„±ìœ¼ë¡œ ê³ ê°ì„ ìƒë‹´í•©ë‹ˆë‹¤." },
        { role: "user", content: item.prompt },
        { role: "assistant", content: item.response }
      ]
    });
  }).join('\n');
  
  return jsonlData;
}

/**
 * ðŸ§  ì±—ë´‡ ì„±ëŠ¥ ë¶„ì„
 */
async function analyzeChatbotPerformance() {
  console.log('ðŸ“Š AI ì±—ë´‡ ì„±ëŠ¥ ë¶„ì„ ì¤‘...');
  
  const testQuestions = [
    "M-CENTERëŠ” ì–´ë–¤ íšŒì‚¬ì¸ê°€ìš”?",
    "ìš°ë¦¬ íšŒì‚¬ì— ë§žëŠ” ì„œë¹„ìŠ¤ë¥¼ ì¶”ì²œí•´ì£¼ì„¸ìš”",
    "BM ZENì´ ë­”ê°€ìš”?",
    "AI ë„ìž… íš¨ê³¼ëŠ” ì–´ëŠ ì •ë„ì¸ê°€ìš”?",
    "ë¹„ìš©ì€ ì–¼ë§ˆë‚˜ ë“œë‚˜ìš”?",
    "ì •ë¶€ì§€ì›ê¸ˆì„ ë°›ì„ ìˆ˜ ìžˆë‚˜ìš”?",
    "ë¬´ë£Œ ìƒë‹´ì„ ë°›ê³  ì‹¶ìŠµë‹ˆë‹¤"
  ];
  
  const analysisPrompt = `ë‹¤ìŒ ì§ˆë¬¸ë“¤ì— ëŒ€í•œ M-CENTER AI ì±—ë´‡ì˜ ì‘ë‹µ í’ˆì§ˆì„ ë¶„ì„í•˜ê³  ê°œì„  ë°©ì•ˆì„ ì œì‹œí•´ì£¼ì„¸ìš”:

ì§ˆë¬¸ ëª©ë¡: ${testQuestions.join(', ')}

ë¶„ì„ ê¸°ì¤€:
1. ì „ë¬¸ì„±: 25ë…„ ê²½ì˜ì§€ë„ì‚¬ ìˆ˜ì¤€ì˜ ê¹Šì´
2. ì°¨ë³„í™”: M-CENTERë§Œì˜ ìš°ìˆ˜ì„± ê°•ì¡°
3. ì‹ ë¢°ì„±: êµ¬ì²´ì  ìˆ˜ì¹˜ì™€ ì‹¤ì  ì œì‹œ
4. í–‰ë™ìœ ë„: ê³ ê°ì˜ ì¦‰ì‹œ ìƒë‹´ ì‹ ì²­ ìœ ë„
5. ì™„ì „ì„±: ì§ˆë¬¸ì— ëŒ€í•œ ì™„ë²½í•œ ë‹µë³€

ê° ê¸°ì¤€ë³„ë¡œ ì ìˆ˜(1-10)ì™€ ê°œì„  ë°©ì•ˆì„ ì œì‹œí•´ì£¼ì„¸ìš”.`;

  try {
    const completion = await openai.chat.completions.create({
      model: 'gpt-4o-mini',
      messages: [{ role: 'user', content: analysisPrompt }],
      max_tokens: 1500,
      temperature: 0.6
    });
    
    return completion.choices[0].message.content;
  } catch (error) {
    console.error('ì„±ëŠ¥ ë¶„ì„ ì‹¤íŒ¨:', error);
    return 'ì„±ëŠ¥ ë¶„ì„ì„ ì™„ë£Œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
  }
}

/**
 * ðŸš€ ë©”ì¸ í•¨ìˆ˜: ì±—ë´‡ í›ˆë ¨ ë°ì´í„° ì—…ë°ì´íŠ¸
 */
async function updateChatbotTraining() {
  console.log('ðŸ§  M-CENTER AI ì±—ë´‡ í›ˆë ¨ ì‹œìž‘...');
  
  try {
    // í›ˆë ¨ ë°ì´í„° ë””ë ‰í† ë¦¬ ìƒì„±
    const trainingDir = path.join(process.cwd(), 'training-data');
    try {
      await fs.access(trainingDir);
    } catch {
      await fs.mkdir(trainingDir, { recursive: true });
    }

    // 1. ìƒˆë¡œìš´ í•™ìŠµ ë°ì´í„° ìƒì„±
    console.log('ðŸ“š ìƒˆë¡œìš´ í•™ìŠµ ë°ì´í„° ìƒì„± ì¤‘...');
    const trainingData = await generateTrainingData();
    
    // 2. ì§€ì‹ ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸
    console.log('ðŸ”„ ì§€ì‹ ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸ ì¤‘...');
    const knowledgeBasePath = path.join(trainingDir, 'knowledge-base.json');
    await fs.writeFile(knowledgeBasePath, JSON.stringify(MCENTER_KNOWLEDGE_BASE, null, 2), 'utf8');
    
    // 3. JSONL í˜•ì‹ìœ¼ë¡œ í›ˆë ¨ ë°ì´í„° ì €ìž¥
    console.log('ðŸ’¾ í›ˆë ¨ ë°ì´í„° ì €ìž¥ ì¤‘...');
    const jsonlData = convertToJSONL(trainingData);
    const currentDate = new Date().toISOString().split('T')[0];
    const trainingFilePath = path.join(trainingDir, `training-data-${currentDate}.jsonl`);
    await fs.writeFile(trainingFilePath, jsonlData, 'utf8');
    
    // 4. ì„±ëŠ¥ ë¶„ì„ ìˆ˜í–‰
    console.log('ðŸ“Š ì±—ë´‡ ì„±ëŠ¥ ë¶„ì„ ì¤‘...');
    const performanceAnalysis = await analyzeChatbotPerformance();
    const analysisPath = path.join(trainingDir, `performance-analysis-${currentDate}.md`);
    await fs.writeFile(analysisPath, performanceAnalysis, 'utf8');
    
    // 5. í›ˆë ¨ ìš”ì•½ ë³´ê³ ì„œ ìƒì„±
    const summaryReport = `# M-CENTER AI ì±—ë´‡ í›ˆë ¨ ë³´ê³ ì„œ
    
## ðŸ“… í›ˆë ¨ ì¼ì‹œ
${new Date().toLocaleString('ko-KR')}

## ðŸ“Š í›ˆë ¨ ë°ì´í„° í˜„í™©
- ì´ ë°ì´í„° ìˆ˜: ${trainingData.length}ê°œ
- ì§€ì‹ ë² ì´ìŠ¤ ì„œë¹„ìŠ¤: ${Object.keys(MCENTER_KNOWLEDGE_BASE.services).length}ê°œ
- FAQ í•­ëª©: ${MCENTER_KNOWLEDGE_BASE.faq.length}ê°œ

## ðŸŽ¯ í›ˆë ¨ ëª©í‘œ
1. M-CENTER ì°¨ë³„í™” ìš°ìˆ˜ì„± ê°•í™”
2. ì „ë¬¸ ìƒë‹´ì‚¬ ìˆ˜ì¤€ì˜ ì‘ë‹µ í’ˆì§ˆ í–¥ìƒ
3. ê³ ê° ìƒë‹´ ì‹ ì²­ ì „í™˜ìœ¨ ì¦ëŒ€
4. ì„œë¹„ìŠ¤ë³„ ì „ë¬¸ì„± ê°•í™”

## ðŸ“ˆ ê¸°ëŒ€ íš¨ê³¼
- ì‘ë‹µ ì •í™•ë„ 95% ì´ìƒ
- ê³ ê° ë§Œì¡±ë„ 90% ì´ìƒ
- ìƒë‹´ ì‹ ì²­ ì „í™˜ìœ¨ 15% í–¥ìƒ
- ì „ë¬¸ì„± ì¸ì‹ë„ 25% ìƒìŠ¹

## ðŸ”„ ë‹¤ìŒ ì—…ë°ì´íŠ¸
- ê³ ê° í”¼ë“œë°± ë°˜ì˜
- ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ ì •ë³´ ì¶”ê°€
- ì„±ê³¼ ë°ì´í„° ì—…ë°ì´íŠ¸
- ìƒë‹´ ì‹œë‚˜ë¦¬ì˜¤ í™•ìž¥

---
Â© 2025 M-CENTER AI Training System`;

    const summaryPath = path.join(trainingDir, `training-summary-${currentDate}.md`);
    await fs.writeFile(summaryPath, summaryReport, 'utf8');
    
    console.log('âœ… AI ì±—ë´‡ í›ˆë ¨ ì™„ë£Œ!');
    console.log(`ðŸ“ ì €ìž¥ ìœ„ì¹˜: ${trainingDir}`);
    
    return {
      success: true,
      trainingDataCount: trainingData.length,
      files: {
        trainingData: trainingFilePath,
        knowledgeBase: knowledgeBasePath,
        performanceAnalysis: analysisPath,
        summary: summaryPath
      }
    };
    
  } catch (error) {
    console.error('âŒ ì±—ë´‡ í›ˆë ¨ ì‹¤íŒ¨:', error);
    throw error;
  }
}

// ì§ì ‘ ì‹¤í–‰ ì‹œ
if (require.main === module) {
  updateChatbotTraining()
    .then(result => {
      console.log('ðŸŽ‰ ì±—ë´‡ í›ˆë ¨ ì„±ê³µ:', result);
      process.exit(0);
    })
    .catch(error => {
      console.error('ðŸ’¥ ì±—ë´‡ í›ˆë ¨ ì‹¤íŒ¨:', error);
      process.exit(1);
    });
}

module.exports = {
  updateChatbotTraining,
  generateTrainingData,
  analyzeChatbotPerformance,
  MCENTER_KNOWLEDGE_BASE
}; 