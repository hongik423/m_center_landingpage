<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìˆ«ì ì…ë ¥ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .input-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
        }
        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            font-family: 'Monaco', 'Menlo', monospace;
            text-align: right;
            transition: border-color 0.2s;
        }
        input:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }
        .test-status {
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-weight: 500;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .info {
            background-color: #e7f3ff;
            color: #0c5460;
            border: 1px solid #b8daff;
        }
        .test-instructions {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        .test-results {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            border-radius: 6px;
            margin-top: 20px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
            margin-top: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ”¢ ìˆ«ì ì…ë ¥ í…ŒìŠ¤íŠ¸</h1>
        <div class="test-instructions">
            <h3>ğŸ“‹ í…ŒìŠ¤íŠ¸ ë°©ë²•</h3>
            <ul>
                <li><strong>ê¸°ë³¸ ì…ë ¥:</strong> ìˆ«ìë¥¼ ì…ë ¥í•˜ë©´ ì²œë‹¨ìœ„ ì‰¼í‘œê°€ ìë™ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤</li>
                <li><strong>ë³µì‚¬/ë¶™ì—¬ë„£ê¸°:</strong> Ctrl+C, Ctrl+V ì‚¬ìš©í•´ë³´ì„¸ìš”</li>
                <li><strong>ì „ì²´ì„ íƒ:</strong> Ctrl+Aë¡œ ì „ì²´ ì„ íƒí•´ë³´ì„¸ìš”</li>
                <li><strong>ì‹¤í–‰ì·¨ì†Œ:</strong> Ctrl+Zë¡œ ì‹¤í–‰ì·¨ì†Œí•´ë³´ì„¸ìš”</li>
                <li><strong>ë°©í–¥í‚¤:</strong> í™”ì‚´í‘œí‚¤ë¡œ ì»¤ì„œ ì´ë™í•´ë³´ì„¸ìš”</li>
            </ul>
        </div>
    </div>

    <div class="test-container">
        <div class="input-group">
            <label for="stock-quantity">ğŸ“ˆ ë§¤ì…ì£¼ì‹ìˆ˜ëŸ‰ (ì£¼)</label>
            <input type="text" id="stock-quantity" inputmode="numeric" placeholder="ì˜ˆ: 1000">
            <div id="stock-quantity-status" class="test-status info">
                ìˆ«ìë¥¼ ì…ë ¥í•´ë³´ì„¸ìš”
            </div>
        </div>

        <div class="input-group">
            <label for="stock-price">ğŸ’° ì£¼ë‹¹ ë§¤ì…ê°€ê²© (ì›)</label>
            <input type="text" id="stock-price" inputmode="numeric" placeholder="ì˜ˆ: 50000">
            <div id="stock-price-status" class="test-status info">
                ìˆ«ìë¥¼ ì…ë ¥í•´ë³´ì„¸ìš”
            </div>
        </div>

        <div class="input-group">
            <label for="total-value">ğŸ“Š ì´ ë§¤ì…ê°€ì•¡ (ì›)</label>
            <input type="text" id="total-value" inputmode="numeric" placeholder="ìë™ ê³„ì‚°ë©ë‹ˆë‹¤" readonly>
            <div id="total-value-status" class="test-status info">
                ìœ„ ë‘ ê°’ì„ ê³±í•œ ê²°ê³¼ê°€ ìë™ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤
            </div>
        </div>

        <button onclick="testCopyPaste()">ğŸ“‹ ë³µì‚¬/ë¶™ì—¬ë„£ê¸° í…ŒìŠ¤íŠ¸</button>
        <button onclick="testShortcuts()">âŒ¨ï¸ ë‹¨ì¶•í‚¤ í…ŒìŠ¤íŠ¸</button>
        <button onclick="resetTest()">ğŸ”„ ì´ˆê¸°í™”</button>
    </div>

    <div class="test-results">
        <h3>ğŸ§ª í…ŒìŠ¤íŠ¸ ê²°ê³¼</h3>
        <div id="test-log">
            <p>í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•˜ì„¸ìš”...</p>
        </div>
    </div>

    <script>
        // ìˆ«ì í¬ë§·íŒ… í•¨ìˆ˜
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        // ìˆ«ì íŒŒì‹± í•¨ìˆ˜
        function parseNumber(str) {
            return parseInt(str.replace(/,/g, '')) || 0;
        }

        // ë¡œê·¸ ì¶”ê°€ í•¨ìˆ˜
        function addLog(message, type = 'info') {
            const logDiv = document.getElementById('test-log');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.className = `test-status ${type}`;
            logEntry.innerHTML = `[${timestamp}] ${message}`;
            logDiv.appendChild(logEntry);
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        // ì…ë ¥ ì²˜ë¦¬ í•¨ìˆ˜
        function handleNumberInput(input, statusElement) {
            input.addEventListener('input', function(e) {
                const value = e.target.value;
                const numValue = parseNumber(value);
                
                if (value === '' || numValue === 0) {
                    statusElement.textContent = 'ìˆ«ìë¥¼ ì…ë ¥í•´ë³´ì„¸ìš”';
                    statusElement.className = 'test-status info';
                } else {
                    e.target.value = formatNumber(numValue);
                    statusElement.textContent = `âœ… ì…ë ¥ê°’: ${formatNumber(numValue)}`;
                    statusElement.className = 'test-status success';
                }
                
                // ìë™ ê³„ì‚°
                calculateTotal();
            });

            // í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ì²˜ë¦¬
            input.addEventListener('keydown', function(e) {
                // Ctrl/Cmd í‚¤ ì¡°í•© í—ˆìš©
                if (e.ctrlKey || e.metaKey) {
                    addLog(`í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì‚¬ìš©: ${e.key}`, 'success');
                    return;
                }

                // í—ˆìš©ëœ í‚¤ë“¤
                const allowedKeys = [
                    'Backspace', 'Delete', 'Tab', 'Escape', 'Enter', 
                    'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown',
                    'Home', 'End', 'PageUp', 'PageDown'
                ];
                
                const isNumber = /^[0-9]$/.test(e.key);
                
                if (!allowedKeys.includes(e.key) && !isNumber) {
                    e.preventDefault();
                    addLog(`ì°¨ë‹¨ëœ í‚¤: ${e.key}`, 'error');
                } else if (isNumber || allowedKeys.includes(e.key)) {
                    addLog(`í—ˆìš©ëœ í‚¤: ${e.key}`, 'success');
                }
            });

            // í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸
            input.addEventListener('focus', function() {
                addLog(`${input.labels[0].textContent} í•„ë“œì— í¬ì»¤ìŠ¤`, 'info');
            });

            input.addEventListener('blur', function() {
                addLog(`${input.labels[0].textContent} í•„ë“œì—ì„œ í¬ì»¤ìŠ¤ í•´ì œ`, 'info');
            });
        }

        // ìë™ ê³„ì‚° í•¨ìˆ˜
        function calculateTotal() {
            const quantity = parseNumber(document.getElementById('stock-quantity').value || '0');
            const price = parseNumber(document.getElementById('stock-price').value || '0');
            const total = quantity * price;
            
            const totalInput = document.getElementById('total-value');
            const totalStatus = document.getElementById('total-value-status');
            
            if (total > 0) {
                totalInput.value = formatNumber(total);
                totalStatus.textContent = `âœ… ìë™ ê³„ì‚°ë¨: ${formatNumber(quantity)} Ã— ${formatNumber(price)} = ${formatNumber(total)}ì›`;
                totalStatus.className = 'test-status success';
            } else {
                totalInput.value = '';
                totalStatus.textContent = 'ìœ„ ë‘ ê°’ì„ ê³±í•œ ê²°ê³¼ê°€ ìë™ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤';
                totalStatus.className = 'test-status info';
            }
        }

        // ë³µì‚¬/ë¶™ì—¬ë„£ê¸° í…ŒìŠ¤íŠ¸
        function testCopyPaste() {
            const testValue = '1000000';
            const stockQuantity = document.getElementById('stock-quantity');
            
            // í´ë¦½ë³´ë“œì— ê°’ ë³µì‚¬ ì‹œë®¬ë ˆì´ì…˜
            navigator.clipboard.writeText(testValue).then(() => {
                addLog('í´ë¦½ë³´ë“œì— "1000000" ë³µì‚¬ë¨', 'success');
                addLog('ì´ì œ ì…ë ¥ í•„ë“œì— Ctrl+Vë¡œ ë¶™ì—¬ë„£ê¸° í•´ë³´ì„¸ìš”', 'info');
                stockQuantity.focus();
            }).catch(() => {
                addLog('í´ë¦½ë³´ë“œ ì ‘ê·¼ ì‹¤íŒ¨ - ì§ì ‘ ë³µì‚¬/ë¶™ì—¬ë„£ê¸° í•´ë³´ì„¸ìš”', 'error');
            });
        }

        // ë‹¨ì¶•í‚¤ í…ŒìŠ¤íŠ¸
        function testShortcuts() {
            addLog('ë‹¨ì¶•í‚¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤', 'info');
            addLog('ì…ë ¥ í•„ë“œì—ì„œ ë‹¤ìŒ ë‹¨ì¶•í‚¤ë“¤ì„ ì‚¬ìš©í•´ë³´ì„¸ìš”:', 'info');
            addLog('â€¢ Ctrl+A: ì „ì²´ ì„ íƒ', 'info');
            addLog('â€¢ Ctrl+C: ë³µì‚¬', 'info');
            addLog('â€¢ Ctrl+V: ë¶™ì—¬ë„£ê¸°', 'info');
            addLog('â€¢ Ctrl+Z: ì‹¤í–‰ì·¨ì†Œ', 'info');
            addLog('â€¢ ë°©í–¥í‚¤: ì»¤ì„œ ì´ë™', 'info');
        }

        // í…ŒìŠ¤íŠ¸ ì´ˆê¸°í™”
        function resetTest() {
            document.getElementById('stock-quantity').value = '';
            document.getElementById('stock-price').value = '';
            document.getElementById('total-value').value = '';
            
            const statusElements = document.querySelectorAll('.test-status');
            statusElements.forEach(status => {
                if (status.id.includes('status')) {
                    status.textContent = 'ìˆ«ìë¥¼ ì…ë ¥í•´ë³´ì„¸ìš”';
                    status.className = 'test-status info';
                }
            });
            
            document.getElementById('test-log').innerHTML = '<p>í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•˜ì„¸ìš”...</p>';
            addLog('í…ŒìŠ¤íŠ¸ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
        }

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // ê° ì…ë ¥ í•„ë“œì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            handleNumberInput(
                document.getElementById('stock-quantity'),
                document.getElementById('stock-quantity-status')
            );
            
            handleNumberInput(
                document.getElementById('stock-price'),
                document.getElementById('stock-price-status')
            );
            
            addLog('í…ŒìŠ¤íŠ¸ í˜ì´ì§€ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            addLog('ìˆ«ì ì…ë ¥ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•˜ì„¸ìš”!', 'info');
        });
    </script>
</body>
</html> 